<app-summary-bar></app-summary-bar>
<!-- Se muestra solo si el usuario NO está logueado -->
<app-background [pageType] = "pageType" [planetData] = "planetData" style="pointer-events: none;"></app-background>
<h1 *ngIf="!userLoginOn">No estás logueado, no puedes acceder a esta funcionalidad</h1>

<!-- Todo lo siguiente se muestra solo si el usuario está logueado -->
<div *ngIf="userLoginOn">
    <div class="dialog-chart">
        <p>Gracias por venir al planeta "{{planetData.name}}", tenemos estos productos en venta!!:</p>
    </div>
    <!-- Sección para mostrar los datos del mercado -->
    <div class="table-container">
        <table class="styled-table">
            <tbody>
                <tr *ngFor="let item of marketData">
                    <td class="product-img">
                        <img src="\assets\img\inventoryaux.png" alt="{{ item.product.name }}">
                    </td>
                    <td class="product-info">
                        <div class="product-name">{{ item.product.name }}</div>
                        <div class="product-details">
                            Precio: {{ item.buyPrice }}
                            Stock: {{ item.stock }}
                            Tamaño: {{ item.product.size }}
                        </div>
                        <button class="buy-button" *ngIf="spaceCraftData && spacecraftModelsData"
                            (click)="comprarProducto(item.product, item, spaceCraftData, spacecraftModelsData)">Comprar
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <app-travels></app-travels>

    
    <div class="botonesAccion">
        <button class="comprar" (click)="buy()">IR A VENDER</button>
    </div> 

</div>

